# 查询客户端设计

Panorama 插件使用共享的 Query Client (基于 TanStack Query) 来高效管理数据。

## 缓存

为了减少数据库负载，数据请求会自动缓存。

- **活动**：缓存 5 分钟。
- **市场数据**：缓存 1 分钟。
- **账户**：缓存直到发生变更。

## 失效

当用户在主应用中添加新交易时，相关的缓存会自动失效，并通知活动插件重新获取数据。

## 乐观更新

插件可以进行乐观更新（例如，立即在 UI 上显示新添加的交易），直到服务器确认。
